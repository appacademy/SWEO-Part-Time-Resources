# React Practice Assessment

Welcome to your React practice assessment!

## Resources allowed

For this assessment, you may use the following resources:

* [AppAcademy Open]
* [MDN]
* A whiteboard or paper to work out problems/code, but they must be within
  camera range
* VS Code or a console for testing and experimentation during any part of the
  test, including multiple-choice questions
* Code you previously wrote yourself
  * Except for code from previous assessment submissions
* Comments within your code about what your specific code is doing
  * Comments about concepts or based on the readings count as notes and are not
    appropriate
* Official documentation including:
  * [React documentation]
  * [React beta docs]
  * [React Router documentation]

[AppAcademy Open]: https://open.appacademy.io/learn
[MDN]: https://developer.mozilla.org/en-US/
[React documentation]: https://reactjs.org/docs/getting-started.html
[React beta docs]: https://beta.reactjs.org/
[React Router documentation]: https://v5.reactrouter.com/

## Resources NOT allowed

You may **NOT** use the following resources during the assessment:

* Slack
* Discord
* Google / other search engines
* StackOverflow, etc.
* GeeksForGeeks, or any tutorial site
* Notes
* Code from previous assessment submissions

## Getting started

Clone the starter from [here][react-assessment].

Make sure you are using Node version 16! Run `nvm install 16` to install the
latest Node version 16. Then run `nvm alias default 16` to set it as your
default Node version. Finally, run `nvm use 16` to use Node version 16.

Run `npm install` to install dependencies.

## Scoring

Each step below has varied amounts of tests. The tests for each step have point
values assigned to them which means you can get partial credit for partially
finishing a step and getting _some_ of the tests to pass.

You can see your score (without the checks for errors or warnings in your
console and without the checks for erroneously or badly formatted code) at any
time by running `npm run test-with-json`.

> **Note:** There are some tests that are worth more than one point. When you
> run `npm run test-with-json`, you will see something like this **(the specific
> numbers may be different for you)**:
>
> ![test-with-json-screenshot](https://appacademy-open-assets.s3.us-west-1.amazonaws.com/Module-Assessments/assets/test-with-json-screenshot.png)
>
> * The **"tests"** key is the total number of points achievable.
> * The **"passes"** key is how many points you have achieved currently.
> * The **"failures"** key is how many points you are not getting.

## Tests for your assessment

This assessment contains tests to help you complete the phases below. When run,
they will report to you when expectations of _functionality_ are met. It is
still up to you to make sure that your code does not produce errors in the
console and is properly formatted.

The tests are grouped by phase. Use these test groupings to know when each phase
is complete from a functionality perspective.

The tests are located in __src/\_\_tests\_\___. Do not modify the files in that
directory.

## Recommendations and requirements

Review your app's output in the terminal or browser console frequently to make
sure that you do not have any warnings about things like unused variables.

After each phase, the application should render in the browser without errors.

Do not move any files in the __src/components__ folder. The tests expect the
existence of those files.

When the instructions say to do something like "Use the `XXX` component in the
`render` method", recognize that you may need to import something (like the
`XXX` component) before that will work. In most cases, you will **NOT** be
instructed to import anything. Use your knowledge of JavaScript modules to
figure that out on your own.

Similarly, the instructions will typically not tell you how to structure your
components, only what they must contain. In some instances, e.g., you may find
it helpful to wrap multiple elements inside a `div` with an appropriate class
name. Such enhancements, however, will not be assessed.

## Phase 0: Getting the app running

The starter contains an application generated by Create React App using the
`@appacademy/react-v17` template and providing `react-router-dom`. It
contains some styling for you in the __index.css__ file for CSS classes that you
will apply during the steps so that things are not default browser layout.

It also contains the tests for the components that you will create.

The React application is already wrapped in the `BrowserRouter` component (from
`react-router-dom`) and `FavFruitProvider` (from __context/FavFruitContext.js__)
in __src/index.js__.

After cloning, run `npm install` to install the dependencies.

You can run your tests with `npm test`. Follow the on-screen instructions to
quit the test runner. If you want to run your tests only once, use the following
command:

```plaintext
CI=true npm test
```

To run the tests for the step you're on, run `npm test <file>`, where `<file>`
is the test file you're working on.

Here's the list of test files to run individually:

* `npm test 1-Routes`
* `npm test 2-Navigation`
* `npm test 3-FruitsIndex`
* `npm test 4-FruitShow`
* `npm test 5-FruitForm`
* `npm test 6-FavoriteFruit`
* `npm test 7-SetFavoriteFruit`

**Note:** With one exception, you can complete the phases in any order, so if
you get stuck on one particular phase, feel free to move on to another phase.
You can then return to the troubling phase later with fresh eyes. **The one
exception:** The last test of every phase (and the last two of `FruitForm`) is
an integration test that ensures the current component is configured correctly
with the routes in __App.js__. This is why `1-Routes`--which sets up
__App.js__--is the recommended starting point.

Type `Control+c` to stop the test runner.

You can also run all the tests at once by simply running `npm test`.

To run the application, use the command `npm start`.

### macOS

If you are on macOS, running `npm start` should open your application in a
Google Chrome window.

### Windows

If you are on Windows, you can run `npm start` from the Terminal Bash prompt in
Visual Studio Code which should open your browser for you.

**Warning:** Make sure that the app opens in a Google Chrome browser. If you
don't have Chrome as your default browser, it will open Microsoft Internet
Explorer. For the purposes of this class, Chrome is recommended.

Running `npm start` in the Ubuntu window will only start the application. In
this case, you will have to open a browser window and navigate to
[http://localhost:3000] yourself (by clicking on that link, for example).

## Phase 1: Routes

In this phase, you will create the following routes in the `App` component:

| Route path         | Component/Text          |
| ------------------ | ----------------------- |
| `/`                | `FruitsIndex`           |
| `/fruits/:fruitId` | `FruitShow`             |
| `/fruits/new`      | `FruitForm`             |
| `/fav-fruit`       | `FavoriteFruit`         |
| `/set-fav-fruit`   | `SetFavoriteFruit`      |
| all other paths    | "Page Not Found" (text) |

Additionally, you should make sure that the `Navigation` component renders on
every page.

**Note:** `BrowserRouter` is already wrapping the entire application in the
entry file, __src/index.js__.

The 5 `Fruit` components should all take the array of `fruits` imported from
__src/mockData/fruits.json__ as a prop named `fruits`.

To test this phase, run `npm test 1-Routes`.

## Phase 2: Navigation

The `Navigation` component should already be rendered inside the `App` component
from Phase 1. Now it's time to give it some content, namely, some navigation
links.

To test this phase, run `npm test 2-Navigation`.

Inside of the `Navigation` component, render the following four navigation
links:

| Name               | Path             |
| ------------------ | ---------------- |
| Home               | `/`              |
| Enter a Fruit      | `/fruits/new`    |
| Favorite Fruit     | `/fav-fruit`     |
| Set Favorite Fruit | `/set-fav-fruit` |

Use the value in the "Name" column above as the visual content of your
navigation link.

(**Tip:** Consider nesting these links inside a `nav` element.)

**You must use the `NavLink` component from `react-router-dom`.**

## Phase 3: FruitsIndex

The `FruitsIndex` component should already be rendered inside the `App`
component from Phase 1. (Remember that it takes a `fruits` prop.) Now it's time
to give it some content, namely, links to fruit pages for all the fruits in a
given list of fruits.

To test this phase, run `npm test 3-FruitsIndex`.

Inside of the `FruitsIndex` component, render an `h2` element with exactly the
text, "Fruits Index". Then render links to the fruit show pages for all the
fruits passed in as props. Each link should be formatted as `/fruits/:fruitId`
with `:fruitId` replaced with a fruit's `id`. The visual content of each link
should be that fruit's `name`.

**You must use the `Link` component from `react-router-dom`.**

## Phase 4: FruitShow

The `FruitShow` component should already be rendered inside the `App` component
from Phase 1. (Remember that it takes a `fruits` prop.) Now it's time to give it
some content, namely, the details of the fruit whose `id` corresponds to the
`:fruitId` in the `/fruits/:fruitId` route.

To test this phase, run `npm test 4-FruitShow`.

In the list of fruits in the mock data file, __src/mockData/fruits.json__, each
fruit has an `id`. Inside of the `FruitShow` component, display the fruit
information for the fruit with the `id` that matches the `:fruitId` in the URL
path.

Render an `h2` element with the fruit's name as the text. Outside of the `h2`
element, render the color, the sweetness, and whether or not the fruit has any
seeds. Use any sort of HTML text elements you want to display this information.

Your `FruitShow` should update as the URL changes.

## Phase 5: FruitForm

The `FruitForm` component should already be rendered inside the `App` component
from Phase 1. (Remember that it takes a `fruits` prop.) It is also partially
completed for you. In this phase, you will add controlled inputs, validations,
and submission to the existing `FruitForm` component.

To test this phase, run `npm test 5-FruitForm`.

Take a look at the existing `<form>` in the `FruitForm` component. First, **make
the name, sweetness, seeds, and color inputs into controlled inputs.** The name
field should be initialized to an empty string. The sweetness field should be
initialized to 1; the color field, to `orange` (i.e., the **second** color
in the `COLORS` constant variable defined at the top of the component file). The
seeds field should be initialized to "yes" / "Seeds".

Using useEffect and useState, create the following form validations. Render the
error messages in the `p.errors` elements below the respective inputs. **(In
other words, Name errors should appear below the Name input/label, and so on.)**

| Field     | Condition                          | Error Message                        |
| --------- | ---------------------------------- | ------------------------------------ |
| Name      | Less than 3 characters             | "Name must be 3 or more characters"  |
| Name      | More than 20 characters            | "Name must be 20 characters or less" |
| Name      | Uniqueness                         | "Name already exists"                |
| Sweetness | Less than 1 **or** Greater than 10 | "Sweetness must be between 1 and 10" |

**The errors must be handled dynamically and be checked on initial render and
after every change in user input, not during form submission.**

Disable the submit button of the `<form>` with a `disabled` attribute (with a
value of `true`) if the form validations don't pass (i.e., if any error messages
are present).

**When the form is submitted**, print the form values to the console in an
object with the keys `name`, `sweetness`, `color`, and `seeds`. Then navigate
to the home page ("/").

Example of form values properly formatted in an object:

```js
{
  name: "Blueberry",
  sweetness: "7",
  color: "blue",
  seeds: "yes"
}
```

## Phase 6: FavoriteFruit

The `FavoriteFruit` component should already be rendered inside the `App`
component from Phase 1. (Remember that it takes a `fruits` prop.) Now it's time
to give it some content, namely, a link to the show page of the favorite fruit
matching the `favFruitId` extracted form a context.

To test this phase, run `npm test 6-FavoriteFruit`.

Take a look at the context and provider created in
__src/context/FavFruitContext.js__. The value of the `FavFruitContext` has a
`favFruitId` that should be matched to an existing fruit. The `FavoriteFruit`
component should render a `Link` to the show page of the favorite fruit
(route must match the pattern `/fruits/:fruitId`). The text of the `Link`
should be the name of the favorite fruit.

**Hint:** You may want to create a custom hook to return the values of the
`FavFruitContext`.

Render an `h2` element with the text, "Favorite Fruit". Then render the `Link`
that directs a user to the favorite fruit's show page (`/fruits/:fruitId`).

## Phase 7: SetFavoriteFruit

In the previous phase, you used the `FavFruitContext`'s `favFruitId` value. In
this phase you will set the `favFruitId` value of the context in the
`SetFavoriteFruit` component. (The `SetFavoriteFruit` component should already
be rendered inside the `App` component from Phase 1. Remember that it takes a
`fruits` prop.)

To test this phase, run `npm test 7-SetFavoriteFruit`.

Much of this component is provided for you. **Do not change the heading text
("Select your Favorite Fruit") or text names of the options (each fruit's name)
as the tests expect these to be present as they are.**

A `select` dropdown has been rendered in the `SetFavoriteFruit` component for
you. Make this a **controlled input** that changes the value of the `favFruitId`
in the `FavFruitContext` using the `setFavFruitId` function in the
`FavFruitContext`. The favorite fruit dropdown menu should select the
appropriate fruit based on the `favFruitId`. For example, if `favFruitId` is
`"1"`, then the favorite fruit selected in the dropdown menu should be `Apple`.

If done correctly, you should see the favorite fruit name in the `FavoriteFruit`
component change when you select a different fruit in the `SetFavoriteFruit`
dropdown menu. (Note that you will have to click the `Favorite Fruit` button to
see the updated fruit link after setting the favorite fruit type.)

## Wrapping up

Make sure that you pass all the tests by running `npm test`. Each test is
weighted individually. To see your score, run `npm run test-with-json`.

## Submitting your assessment

1. Re-run all unit tests and fix any syntax errors that are crashing the tests.
   If the unit tests crash, or do not run, you will receive a zero for the
   coding portion of the assessment.
2. Delete the __node_modules__ directory from the directory that contains your
   assessment code.
3. Delete the __test/score.json__ file, if you have one.
4. Zip up the directory that contains your assessment code.
5. Submit it.

[react-assessment]: https://github.com/appacademy/assessment-for-week-14-practice-react
[http://localhost:3000]: http://localhost:3000